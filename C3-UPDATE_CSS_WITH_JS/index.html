<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>Update CSS variables with JS</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <script>
      function changeTheme() {
        let currentSwitchValue = document.getElementById("themeSwitch").value;

        if (currentSwitchValue == "dark") {
          document.documentElement.style.setProperty("--bgColor", "#fff");
          document.documentElement.style.setProperty(
            "--primaryTextColor",
            "#32324e"
          );
          document.documentElement.style.setProperty(
            "--headingColor",
            "#f79500"
          );
          document.getElementById("themeSwitch").value = "light";
        } else {
          document.documentElement.style.setProperty("--bgColor", "#32324e");
          document.documentElement.style.setProperty(
            "--primaryTextColor",
            "#fff"
          );
          document.documentElement.style.setProperty(
            "--headingColor",
            "#ffdca7"
          );
          document.getElementById("themeSwitch").value = "dark";
        }
      }
    </script>

    <div class="mainContainer">
      <p class="title">Update CSS variables with JS</p>
      <p class="subTitle">
        A handy concept to use for customizing theming options. <br />
        It enables a communication of HTML & JS with CSS.<br />
      </p>

      <div class="controls">
        <div class="themingControlBar">
          <div>
            <label for="spacing">Spacing</label>

            <input
              name="spacing"
              type="range"
              min="0"
              max="10"
              value="2"
              data-sizing="px"
            />
          </div>

          <div>
            <label for="blur">Blur Image</label>

            <input
              type="range"
              min="0"
              max="20"
              value="2"
              data-sizing="px"
              name="blur"
            />
          </div>

          <div>
            <label for="base">Border Color</label>

            <input type="color" name="base" value="#ffc600" />
          </div>

          <div>
            <label for="theme">Switch Theme</label>

            <label class="switch">
              <input
                type="checkbox"
                value="dark"
                onchange="changeTheme()"
                id="themeSwitch"
              />
              <span class="slider round"></span>
            </label>
          </div>
        </div>

        <img src="/background.jpg" />
      </div>
    </div>

    <script>
      const inputs = document.querySelectorAll(".controls input");

      function handleChange() {
        const suffix = this.dataset.sizing || "";

        // inputs.style =
        document.documentElement.style.setProperty(
          `--${this.name}`,
          this.value + suffix
        );
        console.log(this);
      }

      inputs.forEach((i) => i.addEventListener("change", handleChange));
    </script>
  </body>
</html>
